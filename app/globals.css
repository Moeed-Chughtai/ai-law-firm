@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

@layer base {
  :root {
    --background: 252 252 253;
    --foreground: 16 24 40;
  }

  body {
    @apply bg-gray-25 text-gray-900 antialiased font-sans;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  ::selection {
    @apply bg-brand-100 text-brand-900;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-display text-gray-900 tracking-tight;
  }
}

@layer components {
  /* Card system — minimal, structured, no frosted glass */
  .card {
    @apply bg-white border border-gray-200 rounded-xl;
  }
  
  .card-elevated {
    @apply bg-white border border-gray-200 rounded-xl shadow-soft;
  }

  .card-interactive {
    @apply bg-white border border-gray-200 rounded-xl shadow-xs transition-all duration-150;
  }

  .card-interactive:hover {
    @apply border-gray-300 shadow-soft;
  }

  /* Legacy aliases */
  .arch-card, .glass-card-strong {
    @apply card-interactive;
  }

  .glass-card {
    @apply card-elevated;
  }

  /* Input system — Stripe-like clean fields */
  .input-field {
    @apply w-full px-3.5 py-2.5 bg-white border border-gray-300 rounded-lg text-sm text-gray-900
    placeholder:text-gray-400 focus:outline-none focus:border-brand-500 focus:shadow-ring-brand
    transition-all duration-150;
  }

  /* Button system */
  .btn-primary {
    @apply px-4 py-2.5 bg-brand-600 text-white text-sm font-semibold rounded-lg
    hover:bg-brand-700 active:bg-brand-800
    focus:outline-none focus:shadow-ring-brand
    shadow-xs transition-all duration-150 flex items-center justify-center gap-2;
  }

  .btn-secondary {
    @apply px-4 py-2.5 bg-white border border-gray-300 text-gray-700 text-sm font-semibold rounded-lg
    hover:bg-gray-50 hover:text-gray-800
    focus:outline-none focus:shadow-ring-gray
    shadow-xs transition-all duration-150 flex items-center justify-center gap-2;
  }

  .btn-ghost {
    @apply px-4 py-2.5 text-gray-600 text-sm font-medium rounded-lg
    hover:bg-gray-50 hover:text-gray-900
    transition-colors duration-150 flex items-center justify-center gap-2;
  }

  /* Stage pipeline indicators */
  .stage-indicator {
    @apply w-2 h-2 rounded-full transition-all duration-300;
  }

  .stage-indicator-pending {
    @apply bg-gray-300;
  }

  .stage-indicator-running {
    @apply bg-brand-500 ring-4 ring-brand-100;
    animation: gentlePulse 2s infinite;
  }

  .stage-indicator-complete {
    @apply bg-success-500;
  }

  .stage-indicator-warning {
    @apply bg-warning-500;
  }

  .stage-indicator-blocked {
    @apply bg-error-500;
  }

  /* Semantic severity badges — compact, structured */
  .severity-badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs font-medium;
  }

  .severity-critical {
    @apply bg-error-50 text-error-700 ring-1 ring-inset ring-error-200;
  }

  .severity-high {
    @apply bg-warning-50 text-warning-700 ring-1 ring-inset ring-warning-200;
  }

  .severity-medium {
    @apply bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-200;
  }

  .severity-low {
    @apply bg-success-50 text-success-700 ring-1 ring-inset ring-success-200;
  }

  .severity-info {
    @apply bg-brand-50 text-brand-700 ring-1 ring-inset ring-brand-200;
  }

  /* Status dot */
  .status-dot {
    @apply w-2 h-2 rounded-full shrink-0;
  }

  /* Metric card */
  .metric-card {
    @apply bg-white border border-gray-200 rounded-lg p-4;
  }

  /* Table-like structured rows */
  .data-row {
    @apply flex items-center justify-between py-3 border-b border-gray-100 last:border-0;
  }

  /* Section headers */
  .section-label {
    @apply text-xs font-semibold text-gray-500 uppercase tracking-wider;
  }
}

/* Custom scrollbar — minimal */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #D0D5DD;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #98A2B3;
}

/* Redline styling for legal markup */
.redline del,
.redline s {
  @apply text-error-600 bg-error-50 line-through;
}

.redline strong {
  @apply text-success-700 bg-success-50;
}

.redline em {
  @apply text-gray-500 text-sm;
}

/* Shimmer loading state */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}
